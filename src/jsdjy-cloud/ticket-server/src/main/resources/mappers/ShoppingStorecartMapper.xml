<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.centit.ticket.dao.ShoppingStorecartDao">

    <!-- 通用查询映射结果 -->
    <resultMap id="BaseResultMap" type="com.centit.ticket.po.ShoppingStorecart">
        <id column="id" property="id" />
        <result column="addTime" property="addTime" />
        <result column="deleteStatus" property="deleteStatus" />
        <result column="cart_session_id" property="cartSessionId" />
        <result column="total_price" property="totalPrice" />
        <result column="total_integral" property="totalIntegral" />
        <result column="store_id" property="storeId" />
        <result column="user_id" property="userId" />
        <result column="sc_status" property="scStatus" />
    </resultMap>

    <!-- 通用查询结果列(横着排列) -->
    <sql id="Base_Column_List1">
        id, addTime, deleteStatus, cart_session_id, total_price, total_integral, store_id, user_id, sc_status
    </sql>

    <!-- 通用查询结果列(竖着排列) -->
    <sql id="Base_Column_List2">
        id
          ,
        addTime
          ,
        deleteStatus
          ,
        cart_session_id
          ,
        total_price
          ,
        total_integral
          ,
        store_id
          ,
        user_id
          ,
        sc_status
    </sql>

    <!-- 通用查询条件 -->
    <sql id="Base_Where_List">
        <if test="id != null and id != ''">
            <![CDATA[
                AND id = #{id ,jdbcType=VARCHAR}
            ]]>
        </if>
        <if test="addTime != null and addTime != ''">
            <![CDATA[
                AND addTime = #{addTime ,jdbcType=VARCHAR}
            ]]>
        </if>
        <if test="deleteStatus != null">
            <![CDATA[
                AND deleteStatus = #{deleteStatus ,jdbcType=VARCHAR}
            ]]>
        </if>
        <if test="cartSessionId != null and cartSessionId != ''">
            <![CDATA[
                AND cart_session_id = #{cartSessionId ,jdbcType=VARCHAR}
            ]]>
        </if>
        <if test="totalPrice != null and totalPrice != ''">
            <![CDATA[
                AND total_price = #{totalPrice ,jdbcType=VARCHAR}
            ]]>
        </if>
        <if test="totalIntegral != null and totalIntegral != ''">
            <![CDATA[
                AND total_integral = #{totalIntegral ,jdbcType=VARCHAR}
            ]]>
        </if>
        <if test="storeId != null and storeId != ''">
            <![CDATA[
                AND store_id = #{storeId ,jdbcType=VARCHAR}
            ]]>
        </if>
        <if test="userId != null and userId != ''">
            <![CDATA[
                AND user_id = #{userId ,jdbcType=VARCHAR}
            ]]>
        </if>
        <if test="scStatus != null and scStatus != ''">
            <![CDATA[
                AND sc_status = #{scStatus ,jdbcType=VARCHAR}
            ]]>
        </if>
    </sql>


    <!--  新增 -->
    <insert id="insert" parameterType="com.centit.ticket.po.ShoppingStorecart" useGeneratedKeys="true" keyProperty="id">
        <![CDATA[
			insert into shopping_storecart
		]]>
        <trim prefix="(" suffix=")" suffixOverrides="," >


                <![CDATA[
                    addTime,
                ]]>


                <![CDATA[
                    deleteStatus,
                ]]>

            <if test="cartSessionId != '' and cartSessionId != null" >
                <![CDATA[
                    cart_session_id,
                ]]>
            </if>
            <if test="totalPrice != '' and totalPrice != null" >
                <![CDATA[
                    total_price,
                ]]>
            </if>
            <if test="totalIntegral != '' and totalIntegral != null" >
                <![CDATA[
                    total_integral,
                ]]>
            </if>
            <if test="storeId != '' and storeId != null" >
                <![CDATA[
                    store_id,
                ]]>
            </if>
            <if test="userId != '' and userId != null" >
                <![CDATA[
                    user_id,
                ]]>
            </if>
            <if test="scStatus != '' and scStatus != null" >
                <![CDATA[
                    sc_status,
                ]]>
            </if>
        </trim>
        <trim prefix="values (" suffix=")" suffixOverrides="," >

            now(),
            0,
            <if test="cartSessionId != '' and cartSessionId != null" >
                <![CDATA[
                    #{cartSessionId,jdbcType=VARCHAR},
                ]]>
            </if>
            <if test="totalPrice != '' and totalPrice != null" >
                <![CDATA[
                    #{totalPrice,jdbcType=VARCHAR},
                ]]>
            </if>
            <if test="totalIntegral != '' and totalIntegral != null" >
                <![CDATA[
                    #{totalIntegral,jdbcType=VARCHAR},
                ]]>
            </if>
            <if test="storeId != '' and storeId != null" >
                <![CDATA[
                    #{storeId,jdbcType=VARCHAR},
                ]]>
            </if>
            <if test="userId != '' and userId != null" >
                <![CDATA[
                    #{userId,jdbcType=VARCHAR},
                ]]>
            </if>
            <if test="scStatus != '' and scStatus != null" >
                <![CDATA[
                    #{scStatus,jdbcType=VARCHAR},
                ]]>
            </if>
        </trim>
    </insert>

    <!-- 更新 -->
    <update id="update" parameterType="com.centit.ticket.po.ShoppingStorecart" >
        <![CDATA[
        	update shopping_storecart
        ]]>
        <set >
            <if test="id != '' and id != null" >
                <![CDATA[
                    id = #{id,jdbcType=VARCHAR},
                ]]>
            </if>
            <if test="addTime != '' and addTime != null" >
                <![CDATA[
                    addTime = #{addTime,jdbcType=VARCHAR},
                ]]>
            </if>
            <if test="deleteStatus != '' and deleteStatus != null" >
                <![CDATA[
                    deleteStatus = #{deleteStatus,jdbcType=VARCHAR},
                ]]>
            </if>
            <if test="cartSessionId != '' and cartSessionId != null" >
                <![CDATA[
                    cart_session_id = #{cartSessionId,jdbcType=VARCHAR},
                ]]>
            </if>
            <if test="totalPrice != '' and totalPrice != null" >
                <![CDATA[
                    total_price = #{totalPrice,jdbcType=VARCHAR},
                ]]>
            </if>
            <if test="totalIntegral != '' and totalIntegral != null" >
                <![CDATA[
                    total_integral = #{totalIntegral,jdbcType=VARCHAR},
                ]]>
            </if>
            <if test="storeId != '' and storeId != null" >
                <![CDATA[
                    store_id = #{storeId,jdbcType=VARCHAR},
                ]]>
            </if>
            <if test="userId != '' and userId != null" >
                <![CDATA[
                    user_id = #{userId,jdbcType=VARCHAR},
                ]]>
            </if>
            <if test="scStatus != '' and scStatus != null" >
                <![CDATA[
                    sc_status = #{scStatus,jdbcType=VARCHAR},
                ]]>
            </if>
        </set>
        <where>
            <![CDATA[
                and id = #{id ,jdbcType=VARCHAR }
            ]]>
        </where>
    </update>


    <!-- 删除 -->
    <delete id="delete"  parameterType="com.centit.ticket.po.ShoppingStorecart">
        <![CDATA[
            delete from shopping_storecart
        ]]>
        <where>
            <![CDATA[
                and id = #{id ,jdbcType=VARCHAR }
            ]]>
        </where>
    </delete>


    <!--  查询详情 -->
    <select id="queryDetail" resultMap="BaseResultMap" parameterType="com.centit.ticket.po.ShoppingStorecart">
        <![CDATA[
            select
        ]]>
        <include refid="Base_Column_List1" />
        <![CDATA[
            from shopping_storecart t
        ]]>
        <where>
            <if test="userId != null and userId != ''">
                <![CDATA[
                AND user_id = #{userId ,jdbcType=VARCHAR}
            ]]>
            </if>
            <if test="storeId != '' and storeId != null" >
                <![CDATA[
                 AND store_id = #{storeId,jdbcType=VARCHAR}
                ]]>
            </if>
            <![CDATA[
                 AND deleteStatus = 0
                ]]>
        </where>
    </select>

    <!--  查询列表 -->
    <select id="queryList" resultMap="BaseResultMap" parameterType="java.util.HashMap">
        <![CDATA[
            select
        ]]>
        <include refid="Base_Column_List1" />
        <![CDATA[
            from shopping_storecart t
        ]]>
        <where>
            <include refid="Base_Where_List" />
        </where>
    </select>

</mapper>

<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.centit.mallserver.dao.GoodsSpecInventoryDao">

    <!-- 通用查询映射结果 -->
    <resultMap id="BaseResultMap" type="com.centit.mallserver.po.GoodsSpecInventoryPo">
        <result column="goods_id" property="goodsId" />
        <result column="propertys" property="propertys" />
        <result column="price" property="price" />
        <result column="count" property="count" />
    </resultMap>

    <!--  查询列表 -->
    <select id="selectGoodsInventorys" resultMap="BaseResultMap" parameterType="java.lang.String">
            select goods_id, propertys, price, count
            from shopping_goods_inventory t
        <where>
            <![CDATA[
             goods_id = #{goodsId ,jdbcType=VARCHAR}
            ]]>
        </where>
    </select>

    <!--  查询库存 -->
    <select id="selectInventoryStock" resultType="java.lang.Integer">
            select t.count
            from shopping_goods_inventory t
        <where>
            <![CDATA[
                 goods_id = #{goodsId,jdbcType=VARCHAR}
            ]]>
            <![CDATA[
                AND propertys = #{propertys,jdbcType=VARCHAR}
            ]]>
        </where>
    </select>

    <!--  查询价格 -->
    <select id="selectInventoryPrice" resultType="java.math.BigDecimal">
        select t.price
        from shopping_goods_inventory t
        <where>
            <![CDATA[
                 goods_id = #{goodsId,jdbcType=VARCHAR}
            ]]>
            <![CDATA[
                AND propertys = #{propertys,jdbcType=VARCHAR}
            ]]>
        </where>
    </select>

</mapper>
